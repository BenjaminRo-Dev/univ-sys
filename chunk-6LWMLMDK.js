import{a as O,c as R,d as H,e as X,f as V,g as B,h as q,i as P,j as J,k as W,l as z,m as K,n as de}from"./chunk-VA375QOV.js";import{a as Q,b as ce,c as Y,d as M}from"./chunk-ARCGAOER.js";import{a as F}from"./chunk-7D3A2SKW.js";import{A as w,B as b,D,E as f,F as h,G as t,H as i,I as v,J as ae,K as y,L as U,M as G,N as n,O as c,P as j,Q as L,R as le,T as u,V as E,Z as I,a as ie,aa as k,b as re,ba as se,ca as T,da as x,ea as me,j as C,m as d,n as p,r as ne,s as oe,w as l}from"./chunk-3TBGQWL2.js";var ee=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[u],decls:6,vars:0,consts:[[1,"container","p-5"],[1,"card","p-5"],[1,"card-body","row","justify-content-md-center"],["src","assets/uagrm.png","alt","UnivSys",1,"col-md-2","col-sm-2","rounded","mx-auto","d-block"],[1,"text-center"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),v(3,"img",3),t(4,"p",4),n(5,"Panel administrativo"),i()()()())}});let r=e;return r})();var Le=r=>["/perfil/",r],pe=(()=>{let e=class e{constructor(){this.user={}}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-admin-navbar"]],standalone:!0,features:[u],decls:26,vars:3,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container"],["routerLink","dashboard","routerLinkActive","activado",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","usuarios","routerLinkActive","activado",1,"nav-link"],["routerLink","modulos","routerLinkActive","activado",1,"nav-link"],["routerLink","facultades","routerLinkActive","activado",1,"nav-link"],["routerLink","carreras","routerLinkActive","activado",1,"nav-link"],["routerLink","grupos","routerLinkActive","activado",1,"nav-link"],[1,"text-end"],[1,"btn","btn-info","m-1",3,"routerLink"]],template:function(o,m){o&1&&(t(0,"nav",0)(1,"div",1)(2,"a",2),n(3,"UnivSys"),i(),t(4,"button",3),v(5,"span",4),i(),t(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),n(10,"Usuarios"),i()(),t(11,"li",7)(12,"a",9),n(13,"M\xF3dulos"),i()(),t(14,"li",7)(15,"a",10),n(16,"Facultades"),i()(),t(17,"li",7)(18,"a",11),n(19,"Carreras"),i()(),t(20,"li",7)(21,"a",12),n(22,"Grupos"),i()()(),t(23,"div",13)(24,"button",14),n(25," Perfil "),i()()()()()),o&2&&(l(24),b("routerLink",E(1,Le,m.user.id)))},dependencies:[x,me],styles:[".activado[_ngcontent-%COMP%]{color:#8a2be2}"]});let r=e;return r})();var ue=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-admin-layout"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"container","py-5"]],template:function(o,m){o&1&&(v(0,"app-admin-navbar")(1,"app-notification"),t(2,"div",0),v(3,"router-outlet"),i())},dependencies:[se,pe,ce]});let r=e;return r})();var A=(()=>{let e=class e{constructor(){this.http=d(I),this.apiUrl=F.apiBaseUrl}getModulos(){return this.http.get(`${this.apiUrl}modulo`)}getAulas(a){return this.http.get(`${this.apiUrl}modulo/${a}`)}getAula(a){return this.http.get(`${this.apiUrl}aula/${a}`)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Te=(r,e)=>e.id,Ae=r=>["/administrativo/modulos",r];function Ne(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td")(6,"button",5),n(7," Ver aulas "),i()()()),r&2){let s=e.$implicit;l(2),c(s.id),l(2),c(s.numero),l(2),b("routerLink",E(3,Ae,s.id))}}var fe=(()=>{let e=class e{constructor(){this.moduloService=d(A),this.modulos=[]}ngOnInit(){this.moduloService.getModulos().subscribe(a=>{this.modulos=a.data})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-modulos-index"]],standalone:!0,features:[u],decls:19,vars:0,consts:[[1,"card","p-3"],[1,"text-end"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-info","m-1",3,"routerLink"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"M\xF3dulos"),i(),t(3,"div",1)(4,"button",2),n(5," Crear "),i()(),t(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),n(11,"ID"),i(),t(12,"th"),n(13,"N\xFAmero"),i(),t(14,"th"),n(15,"Acciones"),i()()(),t(16,"tbody"),f(17,Ne,8,5,"tr",null,Te),i()()()()),o&2&&(l(17),h(m.modulos))},dependencies:[x]});let r=e;return r})();var Ue=(r,e)=>e.id,Ge=r=>["/administrativo/usuarios/",r];function je(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td"),n(8),i(),t(9,"td")(10,"button",6),n(11," Ver "),i(),t(12,"button",7),n(13," Editar "),i(),t(14,"button",8),n(15," Eliminar "),i()()()),r&2){let s=e.$implicit;l(2),c(s.id),l(2),c(s.username),l(2),c(s.email),l(2),c(s.rol),l(2),b("routerLink",E(5,Ge,s.id))}}var he=(()=>{let e=class e{constructor(){this.userService=d(K),this.usuarios=[],this.fileName="Usuarios.xlsx"}ngOnInit(){this.userService.getUsers().subscribe(a=>{this.usuarios=a.data})}exportarExcel(){let a=M.json_to_sheet(this.usuarios),o=M.book_new();M.book_append_sheet(o,a,"Usuarios"),Y(o,this.fileName)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-usuarios-index"]],standalone:!0,features:[u],decls:25,vars:0,consts:[[1,"card","p-3"],[1,"text-end"],["routerLink","create",1,"m-2","btn","btn-secondary",3,"click"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],["id","tabla-usuarios",1,"table","table-hover"],[1,"btn","btn-info","m-1",3,"routerLink"],[1,"btn","btn-warning","m-1"],[1,"btn","btn-danger"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"Usuarios"),i(),t(3,"div",1)(4,"button",2),y("click",function(){return m.exportarExcel()}),n(5," Exportar Excel "),i(),t(6,"button",3),n(7," Crear "),i()(),t(8,"div",4)(9,"table",5)(10,"thead")(11,"tr")(12,"th"),n(13,"ID"),i(),t(14,"th"),n(15,"Nombre"),i(),t(16,"th"),n(17,"Correo"),i(),t(18,"th"),n(19,"Rol"),i(),t(20,"th"),n(21,"Acciones"),i()()(),t(22,"tbody"),f(23,je,16,7,"tr",null,Ue),i()()()()),o&2&&(l(23),h(m.usuarios))},dependencies:[x]});let r=e;return r})();var ve=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-usuarios-create"]],standalone:!0,features:[u],decls:27,vars:0,consts:[[1,"card","p-3"],[1,"card-body"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","name","password",1,"form-control"],["for","role",1,"form-label"],["id","role","name","role",1,"form-select"],["value","admin"],["value","teacher"],["type","submit",1,"btn","btn-primary"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"Registrar nuevo usuario"),i(),t(3,"div",1)(4,"form")(5,"div",2)(6,"label",3),n(7,"Nombre *"),i(),v(8,"input",4),i(),t(9,"div",2)(10,"label",5),n(11,"Correo *"),i(),v(12,"input",6),i(),t(13,"div",2)(14,"label",7),n(15,"Contrase\xF1a *"),i(),v(16,"input",8),i(),t(17,"div",2)(18,"label",9),n(19,"Rol *"),i(),t(20,"select",10)(21,"option",11),n(22,"Administrativo"),i(),t(23,"option",12),n(24,"Docente"),i()()(),t(25,"button",13),n(26,"Registrar"),i()()()())}});let r=e;return r})();var Se=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-modulos-create"]],standalone:!0,features:[u],decls:2,vars:0,template:function(o,m){o&1&&(t(0,"p"),n(1,"modulos-create works!"),i())}});let r=e;return r})();var Z=(()=>{let e=class e{constructor(){this.http=d(I),this.apiUrl=F.apiBaseUrl}getFacultades(){return this.http.get(`${this.apiUrl}facultad`)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Oe=(r,e)=>e.id;function Re(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td")(6,"button",5),n(7," Editar "),i(),t(8,"button",6),n(9," Eliminar "),i()()()),r&2){let s=e.$implicit;l(2),c(s.id),l(2),c(s.name)}}var be=(()=>{let e=class e{constructor(){this.facultadService=d(Z),this.facultades=[]}ngOnInit(){this.facultadService.getFacultades().subscribe(a=>{this.facultades=a.data})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-facultades-index"]],standalone:!0,features:[u],decls:19,vars:0,consts:[[1,"card","p-3"],[1,"text-end"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-warning","m-1"],[1,"btn","btn-danger"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"Facultades"),i(),t(3,"div",1)(4,"button",2),n(5," Crear "),i()(),t(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),n(11,"ID"),i(),t(12,"th"),n(13,"Nombre"),i(),t(14,"th"),n(15,"Acciones"),i()()(),t(16,"tbody"),f(17,Re,10,2,"tr",null,Oe),i()()()()),o&2&&(l(17),h(m.facultades))},dependencies:[x]});let r=e;return r})();var xe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-facultades-create"]],standalone:!0,features:[u],decls:2,vars:0,template:function(o,m){o&1&&(t(0,"p"),n(1,"facultades-create works!"),i())}});let r=e;return r})();var N=(()=>{let e=class e{constructor(){this.http=d(I),this.apiUrl=F.apiBaseUrl}getCarreras(){return this.http.get(`${this.apiUrl}carrera`)}getMaterias(a){return this.http.get(`${this.apiUrl}carrera/${a}`)}storeCarrera(a){return this.http.post(`${this.apiUrl}carrera/store`,a)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var He=(r,e)=>e.id,Xe=r=>["/administrativo/carreras",r];function Ve(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td")(8,"button",5),n(9," Ver materias "),i(),t(10,"button",6),n(11," Editar "),i(),t(12,"button",7),n(13," Eliminar "),i()()()),r&2){let s=e.$implicit;l(2),c(s.id),l(2),c(s.name),l(2),c(s.sigla),l(2),b("routerLink",E(4,Xe,s.sigla))}}var ge=(()=>{let e=class e{constructor(){this.carreraService=d(N),this.carreras=[]}ngOnInit(){this.carreraService.getCarreras().subscribe(a=>{this.carreras=a.data})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-carreras-index"]],standalone:!0,features:[u],decls:21,vars:0,consts:[[1,"card","p-3"],[1,"text-end"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-info","m-1",3,"routerLink"],[1,"btn","btn-warning","m-1"],[1,"btn","btn-danger"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"Carreras"),i(),t(3,"div",1)(4,"button",2),n(5," Crear "),i()(),t(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),n(11,"ID"),i(),t(12,"th"),n(13,"Nombre"),i(),t(14,"th"),n(15,"Sigla"),i(),t(16,"th"),n(17,"Acciones"),i()()(),t(18,"tbody"),f(19,Ve,14,6,"tr",null,He),i()()()()),o&2&&(l(19),h(m.carreras))},dependencies:[x]});let r=e;return r})();var qe=(r,e)=>e.id;function Pe(r,e){r&1&&(t(0,"div",5)(1,"ul"),n(2," Error en los campos, revise e intentelo de nuevo. "),i()())}function Je(r,e){if(r&1&&(t(0,"option",10),n(1),i()),r&2){let s=e.$implicit;G("value",s.id),l(),c(s.name)}}var Ee=(()=>{let e=class e{constructor(){this.notificationService=d(Q),this.router=d(T),this.fb=d(W),this.facultadService=d(Z),this.carreraService=d(N),this.facultades=[],this.carrera={},this.hayError=!1,this.form=this.fb.group({name:[""],sigla:[""],facultad:[""]})}ngOnInit(){this.getFacultades()}getFacultades(){this.facultadService.getFacultades().subscribe(a=>{this.facultades=a.data})}create(){this.carreraService.storeCarrera(this.form.value).subscribe({next:o=>{this.router.navigate(["/administrativo/carreras"]),this.notificationService.changeMessage("Guardado")}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-carreras-create"]],standalone:!0,features:[u],decls:21,vars:2,consts:[[1,"container","p-5"],[1,"card","p-5"],[1,"card-body","row","justify-content-md-center"],[1,"text-center"],[1,"row","justify-content-center"],[1,"alert","alert-danger"],[3,"ngSubmit","formGroup"],["formControlName","name","id","name","type","text","placeholder","Nombre de la carrera",1,"form-control"],["formControlName","sigla","id","sigla","type","sigls","placeholder","EJ: INF-123",1,"form-control"],["id","facultad","formControlName","facultad",1,"form-select"],[3,"value"],[1,"mt-2","btn","btn-primary"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n(4,"Registrar nueva carrera"),i(),t(5,"div",4),w(6,Pe,3,0,"div",5),i(),t(7,"form",6),y("ngSubmit",function(){return m.create()}),t(8,"label"),n(9,"Nombre *"),i(),v(10,"input",7),t(11,"label"),n(12,"Sigla *"),i(),v(13,"input",8),t(14,"label"),n(15,"Selecciona una facultad *"),i(),t(16,"select",9),f(17,Je,2,2,"option",10,qe),i(),t(19,"button",11),n(20," Guardar "),i()()()()()),o&2&&(l(6),D(m.hayError?6:-1),l(),b("formGroup",m.form),l(10),h(m.facultades))},dependencies:[z,X,P,J,O,q,R,H,V,B]});let r=e;return r})();var We=(r,e)=>e.id,ze=r=>["/administrativo/aula",r];function Ke(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td")(6,"button",5),n(7," Ver programaci\xF3n "),i()()()),r&2){let s=e.$implicit;l(2),c(s.numero),l(2),c(s.capacidad),l(2),b("routerLink",E(3,ze,s.id))}}var Ce=(()=>{let e=class e{constructor(){this.moduloService=d(A),this.route=d(k),this.nroModulo="",this.aulas=[]}ngOnInit(){let a=this.route.snapshot.paramMap.get("id")??"";a&&this.moduloService.getAulas(parseInt(a)).subscribe(o=>{this.aulas=o.aulas,this.nroModulo=o.modulo.numero})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-modulos-show"]],standalone:!0,features:[u],decls:19,vars:1,consts:[[1,"card","p-3"],[1,"text-end"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-info","m-1",3,"routerLink"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2),i(),t(3,"div",1)(4,"button",2),n(5," Crear "),i()(),t(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),n(11,"N\xFAmero"),i(),t(12,"th"),n(13,"Capacidad"),i(),t(14,"th"),n(15,"Acciones"),i()()(),t(16,"tbody"),f(17,Ke,8,5,"tr",null,We),i()()()()),o&2&&(l(2),j("Aulas del m\xF3dulo ",m.nroModulo,""),l(15),h(m.aulas))},dependencies:[x]});let r=e;return r})();var Qe=(r,e)=>e.id;function Ye(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td")(8,"button",4),n(9," Ver "),i(),t(10,"button",5),n(11," Eliminar "),i()()()),r&2){let s=e.$implicit;l(2),c(s.materia.name),l(2),c(s.nivel),l(2),c(s.materia.sigla)}}var ye=(()=>{let e=class e{constructor(){this.carreraService=d(N),this.route=d(k),this.siglaCarrera="",this.carrera={},this.materias=[]}ngOnInit(){let a=this.route.snapshot.paramMap.get("sigla")??"";a&&this.carreraService.getMaterias(a).subscribe(o=>{this.carrera=o.carrera,this.materias=o.materias})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-carreras-show"]],standalone:!0,features:[u],decls:19,vars:2,consts:[[1,"card","p-3"],[1,"text-end"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-info","m-1"],[1,"btn","btn-danger"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2),i(),v(3,"div",1),t(4,"div",2)(5,"table",3)(6,"thead")(7,"tr")(8,"th"),n(9,"Nombre"),i(),t(10,"th"),n(11,"Nivel"),i(),t(12,"th"),n(13,"Sigla"),i(),t(14,"th"),n(15,"Acciones"),i()()(),t(16,"tbody"),f(17,Ye,12,3,"tr",null,Qe),i()()()()),o&2&&(l(2),L("Materias de la carrera ",m.carrera.name," ",m.carrera.sigla,""),l(15),h(m.materias))}});let r=e;return r})();var $=(()=>{let e=class e{constructor(){this.http=d(I),this.apiUrl=F.apiBaseUrl}getGrupos(){return this.http.get(`${this.apiUrl}grupo`)}guardarGrupo(a){return this.http.post(`${this.apiUrl}grupo/store`,a)}asignarHorarioAula(a){return this.http.post(`${this.apiUrl}grupo/asignargrupo`,a)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Ie=(r,e)=>e.id;function Ze(r,e){if(r&1&&(t(0,"small"),n(1),i(),t(2,"small"),n(3),i(),v(4,"br")),r&2){let s=e.$implicit;l(),le(" ",s.dia," ",s.inicio,"-",s.fin,""),l(2),L(" ",s.aula.modulo.numero,"-",s.aula.numero,"")}}function et(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td"),n(8),i(),t(9,"td"),n(10),i(),t(11,"td"),f(12,Ze,5,5,null,null,Ie),i()()),r&2){let s=e.$implicit;l(2),c(s.id),l(2),c(s.nombre),l(2),c(s.periodo),l(2),c(s.materia.name),l(2),c(s.user.username),l(2),h(s.horarios)}}var Fe=(()=>{let e=class e{constructor(){this.grupoService=d($),this.grupos=[],this.fileName="MaestroOferta.xlsx"}ngOnInit(){this.grupoService.getGrupos().subscribe(a=>{this.grupos=a.data.map(o=>{if(o.horarios&&o.horarios.length>0){let m=this.combineConsecutiveHorarios(o.horarios);return re(ie({},o),{horarios:m})}return o}),console.log(this.grupos)})}combineConsecutiveHorarios(a){if(!a.length)return[];a.sort((m,g)=>{let _=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"],te=_.indexOf(m.dia)-_.indexOf(g.dia);return te!==0?te:m.inicio.localeCompare(g.inicio)});let o=[a[0]];for(let m=1;m<a.length;m++){let g=o[o.length-1],_=a[m];g.dia===_.dia&&g.fin===_.inicio?g.fin=_.fin:o.push(_)}return o}exportarExcel(){let a=document.getElementById("tabla-grupos"),o=M.table_to_sheet(a),m=M.book_new();M.book_append_sheet(m,o,"Grupos"),Y(m,this.fileName)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-grupos-index"]],standalone:!0,features:[u],decls:27,vars:0,consts:[[1,"card","p-3"],[1,"text-end"],[1,"m-2","btn","btn-secondary",3,"click"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],["id","tabla-grupos",1,"table","table-hover"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"Grupos"),i(),t(3,"div",1)(4,"button",2),y("click",function(){return m.exportarExcel()}),n(5," Exportar Excel "),i(),t(6,"button",3),n(7," Crear "),i()(),t(8,"div",4)(9,"table",5)(10,"thead")(11,"tr")(12,"th"),n(13,"ID"),i(),t(14,"th"),n(15,"Nombre"),i(),t(16,"th"),n(17,"Periodo"),i(),t(18,"th"),n(19,"Materia"),i(),t(20,"th"),n(21,"Docente"),i(),t(22,"th"),n(23,"Horario"),i()()(),t(24,"tbody"),f(25,et,14,5,"tr",null,Ie),i()()()()),o&2&&(l(25),h(m.grupos))},dependencies:[x]});let r=e;return r})();var ke=(()=>{let e=class e{constructor(){this.http=d(I),this.apiUrl=F.apiBaseUrl}getMaterias(){return this.http.get(`${this.apiUrl}materia`)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Me=(r,e)=>e.id;function tt(r,e){r&1&&(t(0,"div",5)(1,"ul"),n(2," Error en los campos, revise e intentelo de nuevo. "),i()())}function it(r,e){if(r&1&&(t(0,"option",10),n(1),i()),r&2){let s=e.$implicit;G("value",s.id),l(),c(s.username)}}function rt(r,e){if(r&1&&(t(0,"option",10),n(1),i()),r&2){let s=e.$implicit;G("value",s.id),l(),c(s.name)}}var _e=(()=>{let e=class e{constructor(){this.fb=d(W),this.grupoService=d($),this.router=d(T),this.userService=d(K),this.materiaService=d(ke),this.users=[],this.usuariosDocentes=[],this.materias=[],this.hayError=!1,this.form=this.fb.group({nombre:[""],periodo:[""],materia:[""],user:[""]})}ngOnInit(){this.getUsers(),this.getMaterias()}getUsers(){this.userService.getUsers().subscribe(a=>{this.users=a.data,this.filterDocentes()})}getMaterias(){this.materiaService.getMaterias().subscribe(a=>{this.materias=a.data})}filterDocentes(){this.usuariosDocentes=this.users.filter(a=>a.rol==="USER")}create(){this.grupoService.guardarGrupo(this.form.value).subscribe({next:o=>{console.log(o),console.log("Grupo creado"),this.router.navigate(["/administrativo/grupos"])},error:o=>{this.hayError=!0,console.log("Error al guardar"),console.log(o)}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-grupos-create"]],standalone:!0,features:[u],decls:26,vars:2,consts:[[1,"container","p-5"],[1,"card","p-5"],[1,"card-body","row","justify-content-md-center"],[1,"text-center"],[1,"row","justify-content-center"],[1,"alert","alert-danger"],[3,"ngSubmit","formGroup"],["formControlName","nombre","id","nombre","type","text","placeholder","EJ: NW",1,"form-control"],["formControlName","periodo","id","periodo","type","periodo","placeholder","EJ: 1-2021",1,"form-control"],["id","usuario","formControlName","user",1,"form-select"],[3,"value"],["id","materia","formControlName","materia",1,"form-select"],[1,"mt-2","btn","btn-primary"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n(4,"Registrar nuevo grupo"),i(),t(5,"div",4),w(6,tt,3,0,"div",5),i(),t(7,"form",6),y("ngSubmit",function(){return m.create()}),t(8,"label"),n(9,"Nombre *"),i(),v(10,"input",7),t(11,"label"),n(12,"Periodo *"),i(),v(13,"input",8),t(14,"label"),n(15,"Selecciona un docente *"),i(),t(16,"select",9),f(17,it,2,2,"option",10,Me),i(),t(19,"label"),n(20,"Selecciona una materia *"),i(),t(21,"select",11),f(22,rt,2,2,"option",10,Me),i(),t(24,"button",12),n(25," Guardar "),i()()()()()),o&2&&(l(6),D(m.hayError?6:-1),l(),b("formGroup",m.form),l(10),h(m.usuariosDocentes),l(5),h(m.materias))},dependencies:[z,X,P,J,O,q,R,H,V,B]});let r=e;return r})();var nt=(r,e)=>e.id,ot=r=>["/administrativo/grupos",r];function at(r,e){if(r&1&&n(0),r&2){let s=U().$implicit;j(" ",s.grupo.nombre+" - "+s.grupo.materia.name," ")}}function lt(r,e){if(r&1&&(t(0,"button",5),n(1," Asignar "),i()),r&2){let s=U().$implicit;b("routerLink",E(1,ot,s.id))}}function st(r,e){if(r&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td"),w(8,at,1,1)(9,lt,2,3,"button",5),i()()),r&2){let s=e.$implicit;l(2),c(s.dia),l(2),c(s.inicio),l(2),c(s.fin),l(2),D(s.grupo?8:9)}}var we=(()=>{let e=class e{constructor(){this.moduloService=d(A),this.route=d(k),this.nroModulo="",this.nroAula="",this.horarios=[],this.aula={},this.dayOrder={Lunes:1,Martes:2,Mi\u00E9rcoles:3,Miercoles:3,Jueves:4,Viernes:5,S\u00E1bado:6,Sabado:6,Domingo:7},this.compare=(a,o)=>this.dayOrder[a.dia]!==this.dayOrder[o.dia]?this.dayOrder[a.dia]-this.dayOrder[o.dia]:a.inicio.localeCompare(o.inicio)}ngOnInit(){let a=this.route.snapshot.paramMap.get("id")??"";a&&this.moduloService.getAula(parseInt(a)).subscribe(o=>{this.horarios=o.Horarios,this.sortHorarios(),this.aula=o.aula,this.nroModulo=o.aula.modulo.numero,this.nroAula=o.aula.numero})}sortHorarios(){this.horarios.sort(this.compare)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-aula-show"]],standalone:!0,features:[u],decls:25,vars:3,consts:[[1,"card","p-3"],[1,"text-end"],["routerLink","create",1,"btn","btn-primary"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-info","m-1",3,"routerLink"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2),i(),t(3,"div",1)(4,"button",2),n(5," Crear "),i()(),t(6,"p"),n(7),i(),t(8,"h3"),n(9,"Horarios:"),i(),t(10,"div",3)(11,"table",4)(12,"thead")(13,"tr")(14,"th"),n(15,"Dia"),i(),t(16,"th"),n(17,"Hora Inicio"),i(),t(18,"th"),n(19,"Hora Final"),i(),t(20,"th"),n(21,"Grupo asignado"),i()()(),t(22,"tbody"),f(23,st,10,4,"tr",null,nt),i()()()()),o&2&&(l(2),L("Aula ",m.nroModulo," - ",m.nroAula,""),l(5),j("Capacidad: ",m.aula.capacidad,""),l(16),h(m.horarios))},dependencies:[x]});let r=e;return r})();var mt=(r,e)=>e.id;function dt(r,e){if(r&1){let s=ae();t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td"),n(8),i(),t(9,"td")(10,"button",3),y("click",function(){let o=ne(s).$implicit,m=U();return oe(m.asignarHorarioAula(o.id))}),n(11," Asignar y guardar "),i()()()}if(r&2){let s=e.$implicit;l(2),c(s.nombre),l(2),c(s.periodo),l(2),c(s.materia.name),l(2),c(s.user.username)}}var De=(()=>{let e=class e{constructor(){this.notificationService=d(Q),this.grupoService=d($),this.route=d(k),this.router=d(T),this.grupos=[],this.horarioId=0}ngOnInit(){let a=this.route.snapshot.paramMap.get("horarioId");a&&(this.horarioId=parseInt(a)),this.grupoService.getGrupos().subscribe(o=>{this.grupos=o.data})}asignarHorarioAula(a){let o={grupoId:a,horarioId:this.horarioId};this.grupoService.asignarHorarioAula(o).subscribe({next:g=>{console.log(g),console.log("Horario y aula asignado"),this.router.navigate(["/administrativo/grupos"]),this.notificationService.changeMessage("Guardado")},error:g=>{console.log("Error al guardar"),console.log(g)}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-grupo-horario-form"]],standalone:!0,features:[u],decls:20,vars:0,consts:[[1,"card","p-3"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"btn","btn-info",3,"click"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h2"),n(2,"Seleccionar un grupo"),i(),t(3,"div",1)(4,"table",2)(5,"thead")(6,"tr")(7,"th"),n(8,"Nombre"),i(),t(9,"th"),n(10,"Periodo"),i(),t(11,"th"),n(12,"Materia"),i(),t(13,"th"),n(14,"Docente"),i(),t(15,"th"),n(16,"Seleccionar"),i()()(),t(17,"tbody"),f(18,dt,12,4,"tr",null,mt),i()()()()),o&2&&(l(18),h(m.grupos))}});let r=e;return r})();var xr=[{path:"",component:ue,children:[{path:"",component:ee},{path:"dashboard",component:ee},{path:"modulos",component:fe},{path:"modulos/create",component:Se},{path:"modulos/:id",component:Ce},{path:"aula/:id",component:we},{path:"carreras",component:ge},{path:"carreras/create",component:Ee},{path:"carreras/:sigla",component:ye},{path:"usuarios",component:he},{path:"usuarios/:id",component:de},{path:"usuarios/create",component:ve},{path:"facultades",component:be},{path:"facultades/create",component:xe},{path:"grupos",component:Fe},{path:"grupos/create",component:_e},{path:"grupos/:horarioId",component:De}]}];export{xr as ADMIN_ROUTES};
